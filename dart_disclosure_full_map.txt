graph TD
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% DART ê³µì‹œ ì—°ê²° êµ¬ì¡° ì „ì²´ ì§€ë„
    %% ê³µì‹œ ë°ì´í„°ê°€ íë¥´ëŠ” ëª¨ë“  ì—”ì§„ê³¼ ê²½ë¡œë¥¼ í•œëˆˆì— í‘œì‹œ
    %% ìµœì¢… ê°±ì‹ : 2026-02-28
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    %% 1. ì™¸ë¶€ ì†ŒìŠ¤
    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph EXT["ğŸŒ ì™¸ë¶€ ì†ŒìŠ¤"]
        DART_API["DART OpenAPI<br/>(ê¸ˆìœµê°ë…ì›)<br/>opendart.fss.or.kr"]
        GEMINI_AI["Gemini AI API<br/>(ë¶„ë¥˜ ì—”ì§„)<br/>generativelanguage.googleapis.com"]
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    %% 2. ìˆ˜ì§‘ + ë¶„ë¥˜ ì—”ì§„ (services/dart-analyzer.js)
    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph ANALYZER["âš™ï¸ services/dart-analyzer.js (ìˆ˜ì§‘+ë¶„ë¥˜ ì—”ì§„)"]
        INIT_DA["init()<br/>server.jsì—ì„œ í˜¸ì¶œ<br/>KEY2 + 10ë¶„ ì¸í„°ë²Œ"]
        CDT["collectDartToday()<br/>DART API â†’ dart_*.json<br/>ìµœëŒ€ 5í˜ì´ì§€ Ã— 100ê±´"]
        ADF["analyzeDartFiles()<br/>ë¯¸ë¶„ë¥˜ ê³µì‹œ ìŠ¤ìº”<br/>dart_*.json ìˆœíšŒ"]
        CB["classifyBatch()<br/>Geminiì— 10ê±´ ë°°ì¹˜<br/>í˜¸ì¬/ì•…ì¬/ì¤‘ë¦½ ë¶„ë¥˜"]
        SDF["saveDartFiles()<br/>_aiCls + _aiSummary<br/>ì›ë³¸ íŒŒì¼ì— ë¨¸ì§€ ì €ì¥"]
        GT["getToday()<br/>KST YYYYMMDD ë°˜í™˜"]
        GS_DA["getStatus()<br/>ë¶„ì„ê¸° ìƒíƒœ ë°˜í™˜"]
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    %% 3. íŒŒì¼ ì €ì¥ì†Œ (data/)
    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph STORAGE["ğŸ“ íŒŒì¼ ì €ì¥ì†Œ (data/)"]
        DF["dart_YYYYMMDD_p1.json<br/>dart_YYYYMMDD_p2.json<br/>...(ìµœëŒ€ 5í˜ì´ì§€)<br/>í•„ë“œ: list[], status, total_count"]
        DF_AI["dart íŒŒì¼ AI í•„ë“œ<br/>_aiCls: í˜¸ì¬/ì•…ì¬/ì¤‘ë¦½<br/>_aiSummary: í•œì¤„ ìš”ì•½<br/>_fetchedAt: ìˆ˜ì§‘ ì‹œê°"]
        LY["companies/{code}/layers.json<br/>ê³µì‹œ ë ˆì´ì–´<br/>(ì¢…ëª©ë³„ ê³µì‹œ ë°°ì—´)"]
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    %% 4. server.js (ìŠ¤ì¼€ì¤„ëŸ¬ + ì´ˆê¸°í™” + ë³´ì¡´ê·œì¹™)
    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph SERVER["ğŸ–¥ï¸ server.js (ìŠ¤ì¼€ì¤„ëŸ¬)"]
        S_INIT["ì„œë²„ ì‹œì‘<br/>dartAnalyzer.init({<br/>  geminiKeyNews,<br/>  intervalMs: 600000<br/>})"]
        S_DC_TIMER["1ë¶„ íƒ€ì´ë¨¸ (setInterval 60s)<br/>updateClaudeSummary(app)<br/>DC ë©”ëª¨ë¦¬ ê°±ì‹ "]
        S_DC_INIT["ì‹œì‘ 15ì´ˆ í›„ 1íšŒ<br/>updateClaudeSummary(app)<br/>+ 5ë¶„ë§ˆë‹¤ ë°˜ë³µ"]
        S_CLEAN["cleanOldData()<br/>ë§¤ì¼ 00:05 KST<br/>dart_*.json 7ì¼ ë³´ì¡´<br/>7ì¼ ê²½ê³¼ íŒŒì¼ ì‚­ì œ"]
        S_ARCHIVE["getCollectedDataForArchive()<br/>disclosures: []<br/>(ì•„ì¹´ì´ë¸Œì—ëŠ” ë¹ˆ ë°°ì—´)"]
        S_ROUTE["ë¼ìš°íŠ¸ ë“±ë¡<br/>app.use('/api', dart.js)"]
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    %% 5. routes/dart.js (API ë¼ìš°íŠ¸ â€” 3ë‹¨ í´ë°±)
    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph ROUTE_DART["ğŸ”€ routes/dart.js (GET /api/dart)"]
        RD_ENTRY["GET /api/dart<br/>?date=YYYYMMDD&page=N"]
        RD_DC["1ë‹¨ê³„: DC í„°ë„<br/>app.locals.claudeDataCenter<br/>.disclosures í•„í„°"]
        RD_FILE["2ë‹¨ê³„: íŒŒì¼ í´ë°±<br/>dart_{date}_p{N}.json<br/>ìµœê·¼ 3ì¼ í´ë°± (p1)"]
        RD_API["3ë‹¨ê³„: DART API ì§ì ‘<br/>opendart.fss.or.kr<br/>ê²°ê³¼ â†’ dart_*.json ì €ì¥"]
        RD_REFRESH["refreshDartCache()<br/>ë°±ê·¸ë¼ìš´ë“œ API ê°±ì‹ <br/>(ìºì‹œ ì¡´ì¬ ì‹œ ìµœì‹ í™”)"]
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    %% 6. routes/context.js â€” Claude ë°ì´í„°ì„¼í„° (DC)
    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph DC["ğŸ§  routes/context.js â€” Claude ë°ì´í„°ì„¼í„°"]
        DC_UPDATE["updateClaudeSummary(app)<br/>1ë¶„ë§ˆë‹¤ í˜¸ì¶œ<br/>dart_*.json â†’ DC ë©”ëª¨ë¦¬"]
        DC_READ["dart íŒŒì¼ ì½ê¸° ë¡œì§<br/>â‘  ì˜¤ëŠ˜ ê³µì‹œ: ì „ë¶€<br/>â‘¡ ì´ì „ ë‚ ì§œ: 30ê±´ê¹Œì§€ í´ë°±<br/>â‘¢ ì¤‘ë³µì œê±° (rcept_no)<br/>â‘£ ìµœëŒ€ 100ê±´ ìº¡"]
        DC_MEM["dc.disclosures<br/>(ë©”ëª¨ë¦¬ ë°°ì—´, ìµœëŒ€100ê±´)<br/>í•„ë“œ: rcept_no, corp_name,<br/>corp_code, report_nm,<br/>rcept_dt, flr_nm, rm,<br/>_aiCls, _aiSummary"]
        DC_META["dc._meta<br/>disclosureCount<br/>disclosureDate<br/>updatedAt, lastReadAt"]
        DC_CAP["DC_DISCLOSURE_CAP = 100<br/>DC_NEWS_CAP = 100<br/>DC_REPORT_CAP = 50"]
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    %% 7. routes/context.js â€” Claude API ì†Œë¹„ì (5ê°œ)
    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph CLAUDE_API["ğŸ“¡ routes/context.js â€” Claude API ì—”ë“œí¬ì¸íŠ¸"]
        CL_MKT["GET /api/claude/market<br/>ì‹œì¥ ì „ì²´ (~50KB)<br/>disclosures: filterByPortfolio()<br/>ì›Œì¹˜ë¦¬ìŠ¤íŠ¸+í‚¤ì›Œë“œ í•„í„°"]
        CL_SUM["GET /api/claude/summary<br/>DC ì „ì²´/ì„¹ì…˜/ì¢…ëª© ì¡°íšŒ<br/>?section= / ?code=<br/>disclosures: ìœ ì§€ (ì½ì–´ë„ ì•ˆ ì§€ì›€)"]
        CL_ALL["GET /api/claude<br/>ì „ì²´ overview ëª¨ë“œ<br/>filteredDisclosures:<br/>filterByPortfolio(dc.disclosures)"]
        CL_CODE["GET /api/claude?code=ì¢…ëª©ì½”ë“œ<br/>ì¢…ëª© ìƒì„¸ ëª¨ë“œ<br/>stockDisclosures:<br/>corp_nameìœ¼ë¡œ í•„í„°"]
        CL_FILTER["filterByPortfolio()<br/>ì›Œì¹˜ë¦¬ìŠ¤íŠ¸ ì¢…ëª©ëª… + EXTRA_KEYWORDS<br/>HBM, TCë³¸ë”, ë°˜ë„ì²´, AI ë“±<br/>corp_name, report_nm í•„ë“œ ë§¤ì¹­"]
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    %% 8. routes/data-viewer.js (ì¼ë³„ í”¼ë“œ)
    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph VIEWER["ğŸ“Š routes/data-viewer.js"]
        DV_FEED["GET /api/daily-feed<br/>?days=7 (ìµœëŒ€ 14ì¼)<br/>ë‰´ìŠ¤+ê³µì‹œ+ë¦¬í¬íŠ¸ ì¼ë³„ ì§‘ê³„"]
        DV_DART["dart íŒŒì¼ ì§ì ‘ ì½ê¸°<br/>dart_*.json â†’ ë‚ ì§œ ê·¸ë£¹í•‘<br/>rcept_dt ê¸°ì¤€ í•„í„°<br/>(DC ê±°ì¹˜ì§€ ì•ŠìŒ)"]
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    %% 9. utils/company-data.js (ê¸°ì—… ë ˆì´ì–´)
    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph COMPANY["ğŸ¢ utils/company-data.js"]
        CD_LAYERS["getLayers(code)<br/>companies/{code}/layers.json<br/>7ë ˆì´ì–´ ì¤‘ 'ê³µì‹œ' ë ˆì´ì–´<br/>DEFAULT: ë¹ˆ ë°°ì—´ []"]
        CD_USED["Claude ?code= ì‘ë‹µì—ì„œ<br/>layersData.ê³µì‹œëŠ” ë¯¸ì‚¬ìš©<br/>(DC ê³µì‹œê°€ ëŒ€ì²´)"]
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    %% 10. routes/ai-space.js (AI ì±—)
    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph AI_CHAT["ğŸ’¬ routes/ai-space.js (Gemini ì±—)"]
        AC_CTX["ì±— ì»¨í…ìŠ¤íŠ¸<br/>DC ì„œë¨¸ë¦¬ì— ê³µì‹œ í¬í•¨<br/>(ë³„ë„ ë¡œë“œ ì½”ë“œ ì‚­ì œë¨)"]
        AC_PROMPT["ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸<br/>'DART ê³µì‹œ, ë‰´ìŠ¤, ë§¤í¬ë¡œ,<br/>ë¦¬í¬íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¶„ì„'"]
        AC_GUIDE["ê°€ì´ë“œ ì—”ë“œí¬ì¸íŠ¸<br/>GET /api/claude: ë‰´ìŠ¤+ê³µì‹œ+<br/>ë¦¬í¬íŠ¸+ê°€ê²©+ë§¤í¬ë¡œ ì „ë¶€"]
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    %% 11. public/index.html (í”„ë¡ íŠ¸ì—”ë“œ)
    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph FE["ğŸ–¼ï¸ public/index.html (í”„ë¡ íŠ¸ì—”ë“œ)"]
        FE_FETCH["fetchAll()<br/>GET /api/dart?date=YYYYMMDD"]
        FE_POLL["10ë¶„ í´ë§<br/>setInterval â†’ fetchAll()"]
        FE_CLS["classify()<br/>í‚¤ì›Œë“œ ê¸°ë°˜ ë¶„ë¥˜<br/>í˜¸ì¬ / ì•…ì¬ / ì£¼ìš”"]
        FE_AI["analyzeItem()<br/>POST /api/gemini<br/>ê°œë³„ ê³µì‹œ AI ë¶„ì„"]
        FE_TG["checkNewAlerts()<br/>ìƒˆ ê³µì‹œ ê°ì§€<br/>â†’ í…”ë ˆê·¸ë¨ ì•Œë¦¼"]
        FE_RENDER["renderCurrent()<br/>ê·¸ë£¹ë³„ ì¹´ë“œ í‘œì‹œ<br/>í˜¸ì¬/ì•…ì¬/ì£¼ìš”/ê¸°íƒ€"]
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    %% 12. routes/stocks.js (ê¸°ì—… ë ˆì´ì–´ API)
    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph STOCKS["ğŸ“ˆ routes/stocks.js"]
        ST_LAYERS["GET /api/stocks/:code/layers<br/>ê¸°ì—… ë ˆì´ì–´ ì¡°íšŒ<br/>ê³µì‹œ ë ˆì´ì–´ í¬í•¨"]
    end

    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ì—°ê²° â€” ìˆ˜ì§‘ íë¦„
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    DART_API -->|"100ê±´/í˜ì´ì§€<br/>ìµœëŒ€ 5í˜ì´ì§€"| CDT
    CDT -->|"dart_YYYYMMDD_pN.json<br/>ì €ì¥"| DF
    GT -.->|"ì˜¤ëŠ˜ ë‚ ì§œ"| CDT

    %% ë¶„ë¥˜ íë¦„
    DF -->|"ë¯¸ë¶„ë¥˜ ê³µì‹œ ìŠ¤ìº”"| ADF
    ADF -->|"10ê±´ ë°°ì¹˜"| CB
    CB -->|"í”„ë¡¬í”„íŠ¸: ë¶„ë¥˜í•´ì£¼ì„¸ìš”"| GEMINI_AI
    GEMINI_AI -->|"JSON [{cls, summary}]"| CB
    CB -->|"ë¶„ë¥˜ ê²°ê³¼"| SDF
    SDF -->|"_aiCls, _aiSummary<br/>ë¨¸ì§€ ì €ì¥"| DF_AI
    DF_AI -.->|"ê°™ì€ íŒŒì¼"| DF

    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ì—°ê²° â€” ì´ˆê¸°í™” (server.js)
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    S_INIT -->|"geminiKeyNews<br/>intervalMs: 600000"| INIT_DA
    INIT_DA -->|"setInterval 10ë¶„"| CDT
    INIT_DA -->|"setInterval 10ë¶„"| ADF
    S_ROUTE -->|"app.use('/api', dart)"| RD_ENTRY
    S_DC_INIT -->|"ì‹œì‘ 15ì´ˆ ë”œë ˆì´"| DC_UPDATE
    S_DC_TIMER -->|"60ì´ˆë§ˆë‹¤"| DC_UPDATE

    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ì—°ê²° â€” DC ë¡œë”© (context.js)
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    DF -->|"fs.readdirSync<br/>dart_*.json ì—­ìˆœ"| DC_READ
    DC_READ -->|"ì˜¤ëŠ˜ ì „ë¶€ +<br/>ì´ì „ 30ê±´ í´ë°±"| DC_UPDATE
    DC_UPDATE -->|"ì¤‘ë³µì œê±° + 100ê±´ìº¡"| DC_MEM
    DC_UPDATE -->|"ë©”íƒ€ ê°±ì‹ "| DC_META
    DC_CAP -.->|"ìƒìˆ˜"| DC_UPDATE

    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ì—°ê²° â€” API ë¼ìš°íŠ¸ (routes/dart.js)
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    FE_FETCH -->|"GET /api/dart"| RD_ENTRY
    RD_ENTRY --> RD_DC
    RD_DC -->|"dc.disclosures<br/>ë‚ ì§œ í•„í„°"| DC_MEM
    RD_DC -.->|"DCì— ì—†ìœ¼ë©´"| RD_FILE
    RD_FILE -->|"dart_{date}_p{N}.json<br/>+ ìµœê·¼3ì¼ í´ë°±"| DF
    RD_FILE -.->|"íŒŒì¼ë„ ì—†ìœ¼ë©´"| RD_API
    RD_API -->|"ì§ì ‘ API í˜¸ì¶œ"| DART_API
    RD_API -->|"ê²°ê³¼ ì €ì¥"| DF

    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ì—°ê²° â€” Claude API ì†Œë¹„ì
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    DC_MEM -->|"ì›Œì¹˜ë¦¬ìŠ¤íŠ¸ í•„í„°"| CL_MKT
    DC_MEM -->|"ì „ì²´/ì„¹ì…˜/ì¢…ëª©"| CL_SUM
    DC_MEM -->|"í¬íŠ¸í´ë¦¬ì˜¤ í•„í„°"| CL_ALL
    DC_MEM -->|"corp_name í•„í„°"| CL_CODE
    CL_FILTER -.->|"í•„í„° í•¨ìˆ˜"| CL_MKT
    CL_FILTER -.->|"í•„í„° í•¨ìˆ˜"| CL_ALL

    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ì—°ê²° â€” ì¼ë³„ í”¼ë“œ (data-viewer.js)
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    DF -->|"ì§ì ‘ fs.readFileSync<br/>(DC ë¯¸ê²½ìœ )"| DV_DART
    DV_DART -->|"ë‚ ì§œë³„ ê·¸ë£¹í•‘"| DV_FEED

    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ì—°ê²° â€” ê¸°ì—… ë ˆì´ì–´ (company-data.js)
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    LY -.->|"layers.json ê³µì‹œ ë ˆì´ì–´"| CD_LAYERS
    CD_LAYERS -.->|"í˜„ì¬ ë¹„ì–´ìˆìŒ<br/>(DCê°€ ëŒ€ì²´)"| CD_USED
    CD_LAYERS --> ST_LAYERS

    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ì—°ê²° â€” AI ì±—
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    DC_MEM -.->|"DC ì„œë¨¸ë¦¬ ê²½ìœ "| AC_CTX
    AC_CTX --> AC_PROMPT
    CL_ALL -.->|"ê°€ì´ë“œ ì°¸ì¡°"| AC_GUIDE

    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ì—°ê²° â€” í”„ë¡ íŠ¸ì—”ë“œ
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    FE_POLL -->|"setInterval"| FE_FETCH
    FE_FETCH -->|"ì‘ë‹µ data.list"| FE_CLS
    FE_CLS -->|"ë¶„ë¥˜ ì™„ë£Œ"| FE_RENDER
    FE_FETCH -->|"ìƒˆ ê³µì‹œ ê°ì§€"| FE_TG
    FE_AI -->|"POST /api/gemini"| GEMINI_AI

    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ì—°ê²° â€” ë³´ì¡´ê·œì¹™ (server.js)
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    S_CLEAN -->|"7ì¼ ê²½ê³¼ ì‚­ì œ<br/>fs.unlinkSync"| DF

    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ìŠ¤íƒ€ì¼ â€” ë…¸ë“œ ìƒ‰ìƒ êµ¬ë¶„
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    classDef external fill:#ff6b6b,stroke:#c0392b,color:#fff
    classDef engine fill:#54a0ff,stroke:#2e86de,color:#fff
    classDef storage fill:#feca57,stroke:#f39c12,color:#333
    classDef api fill:#5f27cd,stroke:#341f97,color:#fff
    classDef dc fill:#01a3a4,stroke:#0c7b7c,color:#fff
    classDef frontend fill:#ff9ff3,stroke:#f368e0,color:#333
    classDef scheduler fill:#48dbfb,stroke:#0abde3,color:#333
    classDef viewer fill:#ff9f43,stroke:#ee5a24,color:#fff
    classDef company fill:#10ac84,stroke:#1dd1a1,color:#fff

    class DART_API,GEMINI_AI external
    class INIT_DA,CDT,ADF,CB,SDF,GT,GS_DA engine
    class DF,DF_AI,LY storage
    class RD_ENTRY,RD_DC,RD_FILE,RD_API,RD_REFRESH api
    class DC_UPDATE,DC_READ,DC_MEM,DC_META,DC_CAP dc
    class CL_MKT,CL_SUM,CL_ALL,CL_CODE,CL_FILTER api
    class FE_FETCH,FE_POLL,FE_CLS,FE_AI,FE_TG,FE_RENDER frontend
    class S_INIT,S_DC_TIMER,S_DC_INIT,S_CLEAN,S_ARCHIVE,S_ROUTE scheduler
    class DV_FEED,DV_DART viewer
    class CD_LAYERS,CD_USED,ST_LAYERS company
    class AC_CTX,AC_PROMPT,AC_GUIDE engine
